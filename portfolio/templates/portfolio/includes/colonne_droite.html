<!-- ---------- Colonne Droite ---------- -->
<div class="col-lg-8">
    <!-- Sections (affiche 2 includes à la fois) -->
    <div class="section-wrapper">
        <div class="section-item" data-index="0">
            {% include 'portfolio/includes/apropos.html' %}
        </div>
        <div class="section-item" data-index="1">
            {% include 'portfolio/includes/experiences.html' %}
        </div>
        <div class="section-item" data-index="2">
            {% include 'portfolio/includes/parcours.html' %}
        </div>
        <div class="section-item" data-index="3">
            {% include 'portfolio/includes/competence.html' %}
        </div>
        <div class="section-item" data-index="4">
            {% include 'portfolio/includes/projet.html' %}
        </div>
    </div>

    <!-- Boutons Prev / Next en bas -->
    <div class="d-flex justify-content-between mt-3">
        <button class="btn btn-sm btn-primary prev-btn">Prev</button>
        <button class="btn btn-sm btn-primary next-btn">Next</button>
    </div>
</div>

<!-- Script Next / Prev (inchangé) -->
<script>
document.addEventListener("DOMContentLoaded", () => {
    const parent = document.querySelector('.col-lg-8');
    const items = parent.querySelectorAll('.section-item');
    const itemsPerPage = 2; // Limite à 2 includes visibles
    let currentStart = 0;

    function showSections(start) {
        items.forEach((item, i) => {
            if (i >= start && i < start + itemsPerPage) {
                item.style.display = 'block';
            } else {
                item.style.display = 'none';
            }
        });
    }

    // Initialisation : afficher les 2 premiers
    showSections(currentStart);

    parent.querySelector('.next-btn').addEventListener('click', () => {
        currentStart += itemsPerPage;
        if (currentStart >= items.length) currentStart = 0; // boucle
        showSections(currentStart);
    });

    parent.querySelector('.prev-btn').addEventListener('click', () => {
        currentStart -= itemsPerPage;
        if (currentStart < 0) currentStart = Math.max(items.length - itemsPerPage, 0);
        showSections(currentStart);
    });
});
</script>
